#include <iostream>#include <algorithm>#include <string>int main(){    std::string str;    int q;    std::cin >> str >> q;    std::string cmd;    int a, b;    for(int i = 0; i < q; ++i){        std::cin >> cmd >> a >> b;        if("print" == cmd){            std::cout << str.substr(a, b - a + 1) << std::endl;        }else if("reverse" == cmd){            std::reverse(str.begin() + a, str.begin() + b + 1);        }else if("replace" == cmd){            std::string p;            std::cin >> p;            str.replace(a, b - a + 1, p);        }    }    return 0;}